<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- namespace必须指向dao接口 -->
<mapper namespace="com.cheer.mini.ums.dao.OrderItemDao">
	<insert id="save" parameterType="OrderItem">
		INSERT INTO ums_order_item
		(
		id,
		order_id,
		number,
		product_name,
		price
		)
		VALUES
		(
		#{id},
		#{orderId},
		#{number},
		#{productName},
		#{price}
		)
	</insert>
	
	<update id="update" parameterType="OrderItem">
		UPDATE ums_order_item SET
			order_id=#{orderId}
			<if test="amount!=null and amount!=''">
				amount = #{amount}
			</if>
			<if test="number!=0">
				,title = #{number}
			</if>
			<if test="price!=null and price!=''">
				,price = #{price}
			</if>
			where id=#{id}
	</update>
	
	
	<delete id="deleteByOrderId">
		DELETE FROM ums_order_item WHERE order_id = #{0,jdbcType=VARCHAR}
	</delete>
	
</mapper>